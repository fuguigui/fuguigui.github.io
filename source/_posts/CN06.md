---
title: Generating function applications
date: 2019-07-19
tags: [courses, complex system, network analysis]
categories: Complex Network
---

# Aims

- friendship paradox and sampling in networks
- emergence of a giant connected component
- molloy-reed criterion in random networks

# Questions

- what is special about the generating functions ![img](http://latex.codecogs.com/svg.latex?G_0) and ![img](http://latex.codecogs.com/svg.latex?G_1) in **sparse** Erdos-Renyi networks?
  - In sparse Erdos-Renyi networks,  ![img](http://latex.codecogs.com/svg.latex?np) is a constant ![img](http://latex.codecogs.com/svg.latex?%5Clambda). ![img](http://latex.codecogs.com/svg.latex?P%28X%3Dm%29%3D%5Cfrac%7B%5Clambda%5Eme%5E%7B-%5Clambda%7D%7D%7Bm%21%7D)
  - what is ![img](http://latex.codecogs.com/svg.latex?G_0) and what is ![img](http://latex.codecogs.com/svg.latex?G_1)
    - G_0: the generating function of the degree of a node
    - G_1: the generating function of the degree of a neighbor of a node, not including the link degree 1 between them.
  - Speciality: ![img](http://latex.codecogs.com/svg.latex?G_0%3DG_1)
- In which case can we calculate the number of nodes at distance ![img](http://latex.codecogs.com/svg.latex?l) of a randomly chosen node ![img](http://latex.codecogs.com/svg.latex?i) as ![img](http://latex.codecogs.com/svg.latex?%3Ck%3E%5El)?
  - when the degree follows Poisson distribution.
- Under which conditions can we use generating functions to study connected components?
  - we use H_1 to count the component size of a node in **forward** direction. We don't count the node that we arrived from.
- what is the Molloy-Reed criterion?
  - when the ratio of 2-nd raw moment and 1-st raw moment bigger than 2, the gcc will emerge 
- what is the condition for the existence of a giant connected component in the ![img](http://latex.codecogs.com/svg.latex?G%28n%2Cp%29) model?
  - np>1
- what is the condition for the existence of a giant connected component in the ![img](http://latex.codecogs.com/svg.latex?G%28n%2Cm%29) model?
  - p = 2m/(n-1)/n. So, 2m/(n-1)>1
- In an Erdos-Renyi network, what does the Molloy-Reed criterion imply for ![img](http://latex.codecogs.com/svg.latex?G%27_0%281%29%3D%3Ck%3E) and ![img](http://latex.codecogs.com/svg.latex?G_1%27%281%29%3D%3Ck_n%3E-1)
  - ![img](http://latex.codecogs.com/svg.latex?G%27_1%281%29%3E1)



# Keys

giant connected components, ![img](http://latex.codecogs.com/svg.latex?G_0), ![img](http://latex.codecogs.com/svg.latex?G_1), Molloy-Reed criterion, self-consistency condition

# Sparse Erdos-Renyi network (Poisson Distribution Degree)

Friendship paradox can be interpreted as a **sampling bias**.

We define ![img](http://latex.codecogs.com/svg.latex?G_1%28x%29%3D%5Cfrac%7BG_0'%28x%29%7D%7BG_0'%281%29%7D)

In sparse Erdos-Renyi network, 

![img](http://latex.codecogs.com/svg.latex?P%28X%3Dm%29%3D%5Cfrac%7B%5Clambda%5Eme%5E%7B-%5Clambda%7D%7D%7Bm%21%7D)

![img](http://latex.codecogs.com/svg.latex?G_0%28x%29%3D%5CSigma_%7Bi%3D1%7DP%28X%3Di%29x%5Ei%20%3D%20%5CSigma_%7Bi%3D1%7D%5Cfrac%7B%28x%5Clambda%29%5Eie%5E%7B-%5Clambda%7D%7D%7Bi%21%7D%20%3D%20e%5E%7B-%5Clambda%7D%5CSigma_%7Bi%3D1%7D%5Cfrac%7B%28x%5Clambda%29%5Ei%7D%7Bi%21%7D%3De%5E%7B-%5Clambda%7De%5E%7Bx%5Clambda%7D%20)

![img](http://latex.codecogs.com/svg.latex?G_0%27%28x%29%3De%5E%7B-%5Clambda%7D%5Clambda%20e%5E%7Bx%5Clambda%7D)

![img](http://latex.codecogs.com/svg.latex?G_1%28x%29%3D%5Cfrac%7BG_0%27%28x%29%7D%7BG_0%27%281%29%7D%3D%5Cfrac%7Be%5E%7Bx%5Clambda%7D%7D%7Be%5E%7B%5Clambda%7D%7D%20%3D%20G_0%28x%29)

![img](http://latex.codecogs.com/svg.latex?%5Clangle k_n%5Crangle%20%3D%20G_1%27%281%29%2B1%20%3D%20G_0%27%281%29%2B1%20%3D%20%5Clangle k%5Crangle%2B1)

- ![img](http://latex.codecogs.com/svg.latex?G_0) and ![img](http://latex.codecogs.com/svg.latex?G_1) are identical.
- if we don't count the edge between the node and its neighbor, they have the same average degree.
- All of the assumption is the degree follows **Poisson Distribution**.
-  the generating function ![img](http://latex.codecogs.com/svg.latex?G_0) contains all information about the (random) topology (which makes them particularly easy to study)

# Component size

## Question

when does a **giant connected component** arise?

Exists giant connected component ![img](http://latex.codecogs.com/svg.latex?%5CLeftrightarrow) The average component size ![img](http://latex.codecogs.com/svg.latex?%5Clangle s%5Crangle)diverges with ![img](http://latex.codecogs.com/svg.latex?n%5Cto%5cinfty)

Speaking of something's average, of course, we can use the generating function.

How to find the generating function describing ![img](http://latex.codecogs.com/svg.latex?P%28C%3Ds%29), the probability of a component with size ![img](http://latex.codecogs.com/svg.latex?s)

Here, the definition of "component" involves "direction". That is a node's component doesn't include its father node.

## Generating Functions

### H1

We define H1 as the generating function of the component size that includes a node as some other node's neighbor.

![img](http://latex.codecogs.com/svg.latex?H_1) satisfies: the sum of its children's component size add 1 (count itself) is this node's component size. Since its children also satisfy themselves as some node's neighbor (here, the neighbor is this node), it can also be calculated by ![img](http://latex.codecogs.com/svg.latex?H_1). We have

![img](http://latex.codecogs.com/svg.latex?H_1%28x%29%3D xG_1%28H_1%28x%29%29)

- Here, we use ![img](http://latex.codecogs.com/svg.latex?G_1) instead of ![img](http://latex.codecogs.com/svg.latex?G_0). Because we only count the node's children, not including its father. The difference of ![img](http://latex.codecogs.com/svg.latex?G_0) and ![img](http://latex.codecogs.com/svg.latex?G_1) is **direction**. 
  - ![img](http://latex.codecogs.com/svg.latex?G_0) doesn't take direction as a count. All the neighbors of  a node are counted.
  - ![img](http://latex.codecogs.com/svg.latex?G_1) indeed considers direction. Its father node won't be counted, but only its children.
- This is also called **self-consistency condition**.

### H0

We define ![img](http://latex.codecogs.com/svg.latex?H_0) as the generating function of the component size of a node.

Based on ![img](http://latex.codecogs.com/svg.latex?H_1), it is easy to calculate

![img](http://latex.codecogs.com/svg.latex?H_0%3DxG_0%28H_1%28x%29%29)

Hence,

![img](http://latex.codecogs.com/svg.latex?%5Clangle s%5Crangle%20%3D%20H_0%27%281%29)

### \<s\>

We cannot get the exact formula of ![img](http://latex.codecogs.com/svg.latex?H_0) and ![img](http://latex.codecogs.com/svg.latex?H_1), but we can get the value of ![img](http://latex.codecogs.com/svg.latex?%5Clangle s%5Crangle).

![img](http://latex.codecogs.com/svg.latex?%5Clangle s%5Crangle%20%3D%20H_0%27%281%29%3D%5BG_0%28H_1%28x%29%29%2BxG_0%27%28H_1%28x%29%29H_1%27%28x%29%5D_%7Bx%3D1%7D%20%3D%20G_0%28H_1%281%29%29%2BG_0%27%28H_1%281%29%29H_1%27%281%29)

It is good to know all the generating function is 1 at ![img](http://latex.codecogs.com/svg.latex?x%3D1)

So, 

![img](http://latex.codecogs.com/svg.latex?%5Clangle s%5Crangle%3DG_0%281%29%2BG_0%27%281%29H_1%27%281%29)

We only need to calculate ![img](http://latex.codecogs.com/svg.latex?H_1'%281%29)

![img](http://latex.codecogs.com/svg.latex?H_1%27%28x%29%3DG_1%28H_1%28x%29%29%2BxG_1%27%28H_1%28x%29%29H_1%27%28x%29)

![img](http://latex.codecogs.com/svg.latex?H_1%27%281%29%3DG_1%28H_1%281%29%29%2BG_1%27%28H_1%281%29%29H_1%27%281%29%3D1%2BG_1%27%281%29H_1%27%281%29)

We can get

![img](http://latex.codecogs.com/svg.latex?H_1%27%281%29%3D%5Cfrac%7B1%7D%7B1-G_1%27%281%29%7D)

Therefore, 

![img](http://latex.codecogs.com/svg.latex?%5Clangle s%5Crangle%3D1%2B%5Cfrac%7BG_0%27%281%29%7D%7B1-G_1%27%281%29%7D%3D%5Cfrac%7B%5Clangle%20k%5Crangle%7D%7B2-%5Clangle%20k_n%5Crangle%7D%3D%5Cfrac%7B%5Clangle%20k%5Crangle%7D%7B2-%5Cfrac%7B%5Clangle%20k%5E2%5Crangle%7D%7B%5Clangle%20k%5Crangle%7D%7D)

- ![img](http://latex.codecogs.com/svg.latex?G_0'%281%29): the average degree ![img](http://latex.codecogs.com/svg.latex?%5Clangle k%5Crangle)
- ![img](http://latex.codecogs.com/svg.latex?G_1'%281%29): the mean neighbor degree ![img](http://latex.codecogs.com/svg.latex?%5Clangle k_n%5Crangle-1)

#### Emergency of the giant connected component

- ![img](http://latex.codecogs.com/svg.latex?%5Clangle k%5Crangle%5cto %5Cinfty), very dense network

- ![img](http://latex.codecogs.com/svg.latex?%5Clangle k_n%5Crangle-1%5cto 1%5CRightarrow%5Clangle k_n%5Crangle%5Cto 2), sparse

  - In sparse Erdos-Renyi model, we have![img](http://latex.codecogs.com/svg.latex?np%5Cto%5Clambda) as a fixed number.

    ![img](http://latex.codecogs.com/svg.latex?%5Clangle k_n%5Crangle%3D%5Cfrac%7B%5Clangle k%5E2%5Crangle%7D%7B%5Clangle k%5Crangle%7D%20%3D%20%5Cfrac%7Bnp%281%2Bnp%29%7D%7Bnp%7D%3D1%2Bnp)

    when ![img](http://latex.codecogs.com/svg.latex?np>1), it has a giant connected component.

    The interpretation: each node needs to be connected-on-average- to at least one other node.

  - Question??? If np>1, according to this calculation, the average component size will be less than 0. How to explain???? The definition of component is wired here.

### Molloy-Reed Criterion

There must be a gcc for 

![img](http://latex.codecogs.com/svg.latex?%5Cfrac%7B%5Clangle k%5E2%5Crangle%7D%7B%5Clangle k%5Crangle%7D%3E2)



### Phase transition phenomena

At some point, the small change of the parameter will cause an abrupt change of some system's properties.

